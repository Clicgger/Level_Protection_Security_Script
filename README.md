# 等级保护安全加固脚本

自己在用的 不一定达到等保标准 得自己加(目标是到等保标准) 目前正在边学习边写..

或者等我慢慢写 现在只是一个临时脚本 为了能够让我省去重复加固的时间

不是很人性化 只在CentOS7.2-1511,CentOS7.9-2009,CentOS8Stream进行过测试修改

firewalld我默认放行了所有端口,只做流量日志记录 请根据自己的环境来决定防火墙规则. 

可能还有一堆我不清楚的bug 是个早期版本

如果要使用请自行阅读代码调整,生产环境切忌直接使用

## 2023/4/25
1. 时隔一个月,脚本没多大变化,在四处忙其他事情,只做了点细微的修改.

2. 前几天发现openssl可以替代telnet对端口进行测试,所以准备加一条对ftp 21端口的检测,这样更新防火墙就多一层保障

3. 感觉可以单独写一个部署ftp服务器的模块,这样在防火墙升级的时候就能减少好多错误.

## 2023/3/24

1. 在执行完命令检查文件的时候,每次添加一个标题跟END太麻烦了,准备单独写一个模块,输出当前执行的模块,查询结果返回

2. 在防火墙模块,准备做个FTP服务器存活检查,如果存活再执行升级

3. 调整了一些简单逻辑错误...还有配置文件错误...

4. 测试了7.2防火墙的升级,使用的2009镜像源更新,升级前请确保有一台挂载好镜像的ftp服务器,确保防火墙放行端口或者关闭
确保selinux关闭,而且ftp服务确保正常可以使用

5. 做了一层if检测ftp ip地址变量是不是空,是不是ipv4的地址
